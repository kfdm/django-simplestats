{% extends "simplestats/base.html" %}
{% block javascript %}
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">
    // https://developers.google.com/chart/interactive/docs/gallery/annotationchart
    google.load("visualization", "1");
    google.setOnLoadCallback(function() {
        var wrap = new google.visualization.ChartWrapper({
            'chartType': 'LineChart',
            'dataTable': {{ dataTable|safe }},
            'containerId': 'chart_div',
        });
        wrap.draw();
    });
</script>
{% endblock %}
{% block content %}
<div class="container-fluid">
    <div class="row">
        {% if keys %}
        <div class="col-xs-6 col-md-4">
            <div class="btn-group-vertical" role="group" aria-label="...">
            {% for key in keys %}
                <a href="{% url 'stats:graph' key=key %}" class="text-left btn btn-default" role="button">{{ key }}</a>
            {% endfor %}
            </div>
        </div>
        {% endif %}
        <div class="col-xs-6 col-md-4">
            <div id="chart_div" style="width:600px; height:400px">Loading...</div>
        </div>
    </div>

    {% if panic_board %}
    <a href="panicboard://?url={{ panic_board|urlencode:"" }}&panel=graph&sourceDisplayName={{ chart.label }}">Panic Board</a>
    {% endif %}
</div>
{% endblock %}
